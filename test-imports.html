<!DOCTYPE html>
<html>
<head>
    <title>Test Imports</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .success { color: green; }
        .error { color: red; }
        .test-section { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –º–æ–¥—É–ª–µ–π</h1>

    <div class="test-section">
        <h3>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤:</h3>
        <div id="class-test"></div>
    </div>

    <div class="test-section">
        <h3>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–≤:</h3>
        <div id="method-test"></div>
    </div>

    <div class="test-section">
        <h3>3. –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
        <button onclick="testVKImport()">–¢–µ—Å—Ç VK API</button>
        <button onclick="testYandexImport()">–¢–µ—Å—Ç Yandex API</button>
        <button onclick="testAppInit()">–¢–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ App</button>
    </div>

    <div id="output"></div>

    <script type="module">
        import App from './js/App.js';
        import VK from './js/api/VK.js';
        import Yandex from './js/api/Yandex.js';

        // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.App = App;
        window.VK = VK;
        window.Yandex = Yandex;

        const classTest = document.getElementById('class-test');
        const methodTest = document.getElementById('method-test');

        // –¢–µ—Å—Ç –∫–ª–∞—Å—Å–æ–≤
        try {
            let html = '';

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Å–æ–≤
            if (typeof App === 'function') {
                html += `<p class="success">‚úÖ App –∫–ª–∞—Å—Å –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå App –∫–ª–∞—Å—Å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            }

            if (typeof VK === 'function') {
                html += `<p class="success">‚úÖ VK –∫–ª–∞—Å—Å –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå VK –∫–ª–∞—Å—Å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            }

            if (typeof Yandex === 'function') {
                html += `<p class="success">‚úÖ Yandex –∫–ª–∞—Å—Å –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå Yandex –∫–ª–∞—Å—Å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</p>`;
            }

            classTest.innerHTML = html;

        } catch (error) {
            classTest.innerHTML = `<p class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</p>`;
        }

        // –¢–µ—Å—Ç –º–µ—Ç–æ–¥–æ–≤
        try {
            let html = '';

            if (typeof App.init === 'function') {
                html += `<p class="success">‚úÖ App.init –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå App.init –º–µ—Ç–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            }

            if (typeof VK.get === 'function') {
                html += `<p class="success">‚úÖ VK.get –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå VK.get –º–µ—Ç–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            }

            if (typeof Yandex.uploadFile === 'function') {
                html += `<p class="success">‚úÖ Yandex.uploadFile –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            } else {
                html += `<p class="error">‚ùå Yandex.uploadFile –º–µ—Ç–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</p>`;
            }

            methodTest.innerHTML = html;

        } catch (error) {
            methodTest.innerHTML = `<p class="error">‚ùå –û—à–∏–±–∫–∞ –º–µ—Ç–æ–¥–æ–≤: ${error.message}</p>`;
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.testVKImport = async function() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º VK API...</p>';

            try {
                const photos = await VK.get('1');
                output.innerHTML = `<p class="success">‚úÖ VK API —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–ª—É—á–µ–Ω–æ —Ñ–æ—Ç–æ: ${photos ? photos.length : 0}</p>`;
                console.log('VK test result:', photos);
            } catch (error) {
                output.innerHTML = `<p class="error">‚ùå VK API –æ—à–∏–±–∫–∞: ${error.message}</p>`;
            }
        };

        window.testYandexImport = async function() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º Yandex API...</p>';

            try {
                const files = await Yandex.getUploadedFiles();
                output.innerHTML = `<p class="success">‚úÖ Yandex API —Ä–∞–±–æ—Ç–∞–µ—Ç! –§–∞–π–ª–æ–≤: ${files ? files.length : 0}</p>`;
                console.log('Yandex test result:', files);
            } catch (error) {
                output.innerHTML = `<p class="error">‚ùå Yandex API –æ—à–∏–±–∫–∞: ${error.message}</p>`;
            }
        };

        window.testAppInit = function() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é App...</p>';

            try {
                App.init();
                output.innerHTML = '<p class="success">‚úÖ App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ!</p>';
            } catch (error) {
                output.innerHTML = `<p class="error">‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ App: ${error.message}</p>`;
            }
        };

    </script>
</body>
</html>